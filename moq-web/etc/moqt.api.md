## API Report File for "@okutanidaichi/moqt"

> Do not edit this file. It is a report generated by [API Extractor](https://api-extractor.com/).

```ts

// @public (undocumented)
export type AnnounceErrorCode = number;

// @public (undocumented)
export class Announcement {
    constructor(path: string, context: Promise<void>);
    // (undocumented)
    readonly broadcastPath: BroadcastPath;
    // (undocumented)
    end(): void;
    // (undocumented)
    ended(): Promise<void>;
    // (undocumented)
    isActive(): boolean;
}

// @public (undocumented)
export class AnnouncementReader {
    // Warning: (ae-forgotten-export) The symbol "Context" needs to be exported by the entry point index.d.ts
    // Warning: (ae-forgotten-export) The symbol "Writer" needs to be exported by the entry point index.d.ts
    // Warning: (ae-forgotten-export) The symbol "Reader" needs to be exported by the entry point index.d.ts
    // Warning: (ae-forgotten-export) The symbol "AnnouncePleaseMessage" needs to be exported by the entry point index.d.ts
    // Warning: (ae-forgotten-export) The symbol "AnnounceInitMessage" needs to be exported by the entry point index.d.ts
    constructor(sessCtx: Context, writer: Writer, reader: Reader, announcePlease: AnnouncePleaseMessage, aim: AnnounceInitMessage);
    // (undocumented)
    close(): Promise<void>;
    // (undocumented)
    closeWithError(code: AnnounceErrorCode, message: string): Promise<void>;
    // (undocumented)
    get context(): Context;
    // (undocumented)
    readonly prefix: string;
    // (undocumented)
    receive(signal: Promise<void>): Promise<[Announcement, undefined] | [undefined, Error]>;
}

// @public (undocumented)
export class AnnouncementWriter {
    constructor(sessCtx: Context, writer: Writer, reader: Reader, req: AnnouncePleaseMessage);
    // (undocumented)
    close(): Promise<void>;
    // (undocumented)
    closeWithError(code: AnnounceErrorCode, message: string): Promise<void>;
    // (undocumented)
    get context(): Context;
    // (undocumented)
    init(anns: Announcement[]): Promise<Error | undefined>;
    // (undocumented)
    readonly prefix: TrackPrefix;
    // (undocumented)
    send(announcement: Announcement): Promise<Error | undefined>;
}

// @public (undocumented)
export const BannedPrefixErrorCode: AnnounceErrorCode;

// @public (undocumented)
export type BiStreamType = typeof BiStreamTypes[keyof typeof BiStreamTypes];

// @public (undocumented)
export const BiStreamTypes: {
    readonly SessionStreamType: 0;
    readonly AnnounceStreamType: 1;
    readonly SubscribeStreamType: 2;
};

// @public
export type BroadcastPath = `/${string}`;

// @public (undocumented)
export class Client {
    constructor(options?: MOQOptions, mux?: TrackMux);
    // (undocumented)
    abort(): Promise<void>;
    // (undocumented)
    close(): Promise<void>;
    // (undocumented)
    dial(url: string | URL, mux?: TrackMux): Promise<Session>;
    // (undocumented)
    readonly options: MOQOptions;
}

// @public (undocumented)
export const ClosedSessionGroupErrorCode: GroupErrorCode;

// @public (undocumented)
export const DefaultTrackMux: TrackMux;

// @public (undocumented)
export const DuplicatedAnnounceErrorCode: AnnounceErrorCode;

// @public (undocumented)
export const DuplicateSubscribeIDErrorCode: SubscribeErrorCode;

// @public (undocumented)
export const ExpiredGroupErrorCode: GroupErrorCode;

// @public
export function extension(path: BroadcastPath): string;

// Warning: (ae-forgotten-export) The symbol "Source" needs to be exported by the entry point index.d.ts
//
// @public (undocumented)
export class Frame implements Source {
    constructor(bytes: Uint8Array);
    // (undocumented)
    get byteLength(): number;
    // (undocumented)
    bytes: Uint8Array;
    // (undocumented)
    clone(buffer?: Uint8Array<ArrayBufferLike>): Frame;
    // (undocumented)
    copyFrom(src: Source): void;
    // (undocumented)
    copyTo(dest: AllowSharedBufferSource): void;
}

// @public (undocumented)
export type GroupErrorCode = number;

// @public (undocumented)
export class GroupReader {
    // Warning: (ae-forgotten-export) The symbol "GroupMessage" needs to be exported by the entry point index.d.ts
    constructor(trackCtx: Context, reader: Reader, group: GroupMessage);
    // (undocumented)
    cancel(code: GroupErrorCode, message: string): Promise<void>;
    // (undocumented)
    get context(): Context;
    // (undocumented)
    get groupSequence(): bigint;
    // (undocumented)
    readFrame(): Promise<[Frame, undefined] | [undefined, Error]>;
}

// @public (undocumented)
export type GroupSequence = bigint;

// @public (undocumented)
export class GroupWriter {
    constructor(trackCtx: Context, writer: Writer, group: GroupMessage);
    // (undocumented)
    cancel(code: GroupErrorCode, message: string): Promise<void>;
    // (undocumented)
    close(): Promise<void>;
    // (undocumented)
    get context(): Context;
    // (undocumented)
    get groupSequence(): bigint;
    // (undocumented)
    writeFrame(src: Frame | Source): Promise<Error | undefined>;
}

// @public (undocumented)
export interface Info {
}

// @public (undocumented)
export const InternalAnnounceErrorCode: AnnounceErrorCode;

// @public (undocumented)
export const InternalGroupErrorCode: GroupErrorCode;

// @public (undocumented)
export const InternalSubscribeErrorCode: SubscribeErrorCode;

// @public (undocumented)
export const InvalidAnnounceStatusErrorCode: AnnounceErrorCode;

// @public (undocumented)
export const InvalidPrefixErrorCode: AnnounceErrorCode;

// @public (undocumented)
export const InvalidRangeErrorCode: SubscribeErrorCode;

// @public (undocumented)
export const InvalidSubscribeIDErrorCode: GroupErrorCode;

// @public
export function isValidBroadcastPath(path: string): boolean;

// @public
export function isValidPrefix(path: string): boolean;

// @public (undocumented)
export const MOQ: typeof Client;

// @public (undocumented)
export interface MOQOptions {
    // Warning: (ae-forgotten-export) The symbol "Extensions" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    extensions?: Extensions;
    // (undocumented)
    reconnect?: boolean;
    // (undocumented)
    transportOptions?: WebTransportOptions;
    // (undocumented)
    versions?: Set<bigint>;
}

// @public (undocumented)
export const OutOfRangeErrorCode: GroupErrorCode;

// @public (undocumented)
export const PublishAbortedErrorCode: GroupErrorCode;

// @public (undocumented)
export class ReceiveSubscribeStream {
    // Warning: (ae-forgotten-export) The symbol "SubscribeMessage" needs to be exported by the entry point index.d.ts
    constructor(sessCtx: Context, writer: Writer, reader: Reader, subscribe: SubscribeMessage);
    // (undocumented)
    close(): Promise<void>;
    // (undocumented)
    closeWithError(code: number, message: string): Promise<void>;
    // (undocumented)
    get context(): Context;
    // (undocumented)
    readonly subscribeId: SubscribeID;
    // (undocumented)
    get trackConfig(): TrackConfig;
    // (undocumented)
    updated(): Promise<void>;
    // (undocumented)
    writeInfo(info?: Info): Promise<Error | undefined>;
}

// @public (undocumented)
export class SendSubscribeStream {
    // Warning: (ae-forgotten-export) The symbol "SubscribeOkMessage" needs to be exported by the entry point index.d.ts
    constructor(sessCtx: Context, writer: Writer, reader: Reader, subscribe: SubscribeMessage, ok: SubscribeOkMessage);
    // (undocumented)
    closeWithError(code: number, message: string): Promise<void>;
    // (undocumented)
    get config(): TrackConfig;
    // (undocumented)
    get context(): Context;
    // (undocumented)
    get info(): Info;
    // (undocumented)
    get subscribeId(): SubscribeID;
    // (undocumented)
    update(update: TrackConfig): Promise<Error | undefined>;
}

// @public (undocumented)
export class Session {
    constructor(init: SessionInit);
    // (undocumented)
    acceptAnnounce(prefix: TrackPrefix): Promise<[AnnouncementReader, undefined] | [undefined, Error]>;
    // (undocumented)
    close(): Promise<void>;
    // (undocumented)
    closeWithError(code: number, message: string): Promise<void>;
    // (undocumented)
    readonly mux: TrackMux;
    // (undocumented)
    readonly ready: Promise<void>;
    // (undocumented)
    subscribe(path: BroadcastPath, name: TrackName, config?: TrackConfig): Promise<[TrackReader, undefined] | [undefined, Error]>;
    // (undocumented)
    update(bitrate: bigint): void;
}

// @public (undocumented)
export type SessionErrorCode = number;

// @public (undocumented)
export interface SessionInit {
    // (undocumented)
    conn: WebTransport;
    // (undocumented)
    extensions?: Extensions;
    // (undocumented)
    mux?: TrackMux;
    // Warning: (ae-forgotten-export) The symbol "Version" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    versions?: Set<Version>;
}

// @public (undocumented)
export class SessionStream {
    constructor(connCtx: Context, writer: Writer, reader: Reader, client: SessionClientMessage, server: SessionServerMessage);
    // Warning: (ae-forgotten-export) The symbol "SessionClientMessage" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    readonly client: SessionClientMessage;
    // Warning: (ae-forgotten-export) The symbol "SessionUpdateMessage" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    get clientInfo(): SessionUpdateMessage;
    // (undocumented)
    get context(): Context;
    // Warning: (ae-forgotten-export) The symbol "SessionServerMessage" needs to be exported by the entry point index.d.ts
    //
    // (undocumented)
    readonly server: SessionServerMessage;
    // (undocumented)
    get serverInfo(): SessionUpdateMessage;
    // (undocumented)
    update(bitrate: bigint): Promise<void>;
    // (undocumented)
    updated(): Promise<void>;
}

// @public (undocumented)
export const SubscribeCanceledErrorCode: GroupErrorCode;

// @public (undocumented)
export type SubscribeErrorCode = number;

// @public (undocumented)
export type SubscribeID = bigint;

// @public (undocumented)
export const SubscribeTimeoutErrorCode: SubscribeErrorCode;

// @public (undocumented)
export interface TrackConfig {
    // (undocumented)
    maxGroupSequence: GroupSequence;
    // (undocumented)
    minGroupSequence: GroupSequence;
    // (undocumented)
    trackPriority: TrackPriority;
}

// @public (undocumented)
export interface TrackHandler {
    // (undocumented)
    serveTrack(ctx: Promise<void>, trackWriter: TrackWriter): Promise<void>;
}

// @public (undocumented)
export class TrackMux {
    constructor();
    // (undocumented)
    announce(announcement: Announcement, handler: TrackHandler): Promise<void>;
    // (undocumented)
    publish(ctx: Promise<void>, path: BroadcastPath, handler: TrackHandler): Promise<void>;
    // (undocumented)
    publishFunc(ctx: Promise<void>, path: BroadcastPath, handler: (ctx: Promise<void>, trackWriter: TrackWriter) => Promise<void>): Promise<void>;
    // (undocumented)
    serveAnnouncement(writer: AnnouncementWriter, prefix: TrackPrefix): Promise<void>;
    // (undocumented)
    serveTrack(trackWriter: TrackWriter): Promise<void>;
}

// @public (undocumented)
export type TrackName = string;

// @public (undocumented)
export const TrackNotFoundErrorCode: SubscribeErrorCode;

// @public
export type TrackPrefix = `/${string}/` | `/`;

// @public (undocumented)
export type TrackPriority = number;

// @public (undocumented)
export class TrackReader {
    constructor(subscribeStream: SendSubscribeStream, acceptFunc: (ctx: Promise<void>) => Promise<[Reader, GroupMessage] | undefined>, onCloseFunc: () => void);
    // (undocumented)
    acceptGroup(signal: Promise<void>): Promise<[GroupReader, undefined] | [undefined, Error]>;
    // (undocumented)
    closeWithError(code: number, message: string): Promise<void>;
    // (undocumented)
    get context(): Context;
    // (undocumented)
    readInfo(): Info;
    // (undocumented)
    get trackConfig(): TrackConfig;
    // (undocumented)
    update(config: TrackConfig): Promise<Error | undefined>;
}

// @public (undocumented)
export class TrackWriter {
    constructor(broadcastPath: BroadcastPath, trackName: string, subscribeStream: ReceiveSubscribeStream, openUniStreamFunc: () => Promise<[Writer, undefined] | [undefined, Error]>);
    // (undocumented)
    broadcastPath: BroadcastPath;
    // (undocumented)
    close(): Promise<void>;
    // (undocumented)
    closeWithError(code: SubscribeErrorCode, message: string): Promise<void>;
    // (undocumented)
    get config(): TrackConfig;
    // (undocumented)
    get context(): Context;
    // (undocumented)
    openGroup(groupSequence: GroupSequence): Promise<[GroupWriter, undefined] | [undefined, Error]>;
    // (undocumented)
    get subscribeId(): bigint;
    // (undocumented)
    trackName: string;
    // (undocumented)
    writeInfo(info: Info): Promise<Error | undefined>;
}

// @public (undocumented)
export const UnauthorizedSubscribeErrorCode: SubscribeErrorCode;

// @public (undocumented)
export const UninterestedErrorCode: AnnounceErrorCode;

// @public (undocumented)
export type UniStreamType = typeof UniStreamTypes[keyof typeof UniStreamTypes];

// @public (undocumented)
export const UniStreamTypes: {
    readonly GroupStreamType: 0;
};

// @public
export function validateBroadcastPath(path: string): BroadcastPath;

// @public
export function validateTrackPrefix(prefix: string): TrackPrefix;

// (No @packageDocumentation comment for this package)

```
