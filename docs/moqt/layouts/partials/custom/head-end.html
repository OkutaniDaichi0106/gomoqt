{{- /* Enhanced Twitter Card and Open Graph meta tags for Discord/Slack/Twitter card display */ -}}

{{- /* Twitter Card Configuration */ -}}
<meta name="twitter:card" content="summary_large_image">
{{- with .Site.Params.social.twitter }}
<meta name="twitter:site" content="@{{ . }}">
<meta name="twitter:creator" content="@{{ . }}">
{{- end }}

{{- /* Enhanced OG Image with dimensions for better card display */ -}}
{{- $images := $.Params.images | default $.Site.Params.social.images }}
{{- if $images }}
  {{- $imageURL := index $images 0 }}
  {{- /* Support both absolute URLs and relative paths */ -}}
  {{- if not (hasPrefix $imageURL "http") }}
    {{- $imageURL = printf "%s%s" $.Site.BaseURL (strings.TrimPrefix "/" $imageURL) }}
  {{- end }}
  <meta name="twitter:image" content="{{ $imageURL }}">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:image:alt" content="{{ $.Params.title | default $.Site.Title }}">
{{- end }}

{{- /* Enhanced description for better SEO */ -}}
{{- $description := "" }}
{{- if .Params.description }}
  {{- $description = .Params.description }}
{{- else if .Summary }}
  {{- $description = .Summary }}
{{- else if .Site.Params.social.siteDescription }}
  {{- $description = .Site.Params.social.siteDescription }}
{{- else }}
  {{- $description = .Site.Params.description }}
{{- end }}
{{- if $description }}
<meta name="twitter:description" content="{{ $description }}">
{{- end }}

{{- /* Author information for better SEO */ -}}
{{- if .Params.authors }}
  {{- range first 1 .Params.authors }}
    {{- if .name }}
<meta name="author" content="{{ .name }}">
    {{- end }}
  {{- end }}
{{- else if .Site.Params.social.author }}
<meta name="author" content="{{ .Site.Params.social.author }}">
{{- end }}

{{- /* Additional SEO enhancements */ -}}
{{- if .Site.Params.social.siteName }}
<meta property="og:site_name" content="{{ .Site.Params.social.siteName }}">
{{- end }}

{{- /* Keywords from tags for better SEO */ -}}
{{- if .Params.tags }}
<meta name="keywords" content="{{ delimit .Params.tags ", " }}">
{{- end }}
